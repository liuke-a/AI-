# Python 基础语法详解（考试版）

## 一、Python基础概念

### 1. 注释

```python
# 这是单行注释

"""
这是多行注释
可以写多行
"""

'''
这也是多行注释
'''
```

### 2. 变量命名规则

```python
# ✅ 正确的命名
name = "张三"
age_1 = 20
_private = "私有"
userName = "驼峰命名"
user_name = "下划线命名"（推荐）

# ❌ 错误的命名
# 1name = "错误"      # 不能以数字开头
# my-name = "错误"    # 不能有连字符
# class = "错误"      # 不能使用关键字
```

### 3. Python关键字（重要！考试常考）

```python
import keyword
print(keyword.kwlist)

# 常见关键字：
# False, True, None
# and, or, not
# if, elif, else
# for, while, break, continue
# def, return, lambda
# class, pass
# try, except, finally, raise
# import, from, as
# in, is
# with, yield
```

## 二、数据类型

### 1. 数字类型

```python
# 整数 int
a = 10
b = -5
c = 0b1010      # 二进制：10
d = 0o12        # 八进制：10
e = 0xA         # 十六进制：10

# 浮点数 float
f = 3.14
g = -2.5
h = 1.5e2       # 科学计数法：150.0

# 复数 complex
i = 3 + 4j
print(i.real)   # 3.0 实部
print(i.imag)   # 4.0 虚部

# 布尔值 bool
j = True
k = False
print(type(j))  # <class 'bool'>

# 类型转换
print(int(3.9))      # 3
print(float(5))      # 5.0
print(str(100))      # "100"
print(bool(0))       # False
print(bool(1))       # True
```

### 2. 字符串 str

```python
# 创建字符串
s1 = 'single quotes'
s2 = "double quotes"
s3 = '''三引号
可以换行'''
s4 = """也可以
换行"""

# 字符串索引（重要！）
s = "Python"
print(s[0])      # 'P' 第一个字符
print(s[-1])     # 'n' 最后一个字符
print(s[1:4])    # 'yth' 切片[start:end]
print(s[:3])     # 'Pyt' 从开始到索引3
print(s[3:])     # 'hon' 从索引3到结束
print(s[::2])    # 'Pto' 步长为2
print(s[::-1])   # 'nohtyP' 反转字符串

# 字符串方法（高频考点！）
s = "hello world"
print(s.upper())           # 'HELLO WORLD' 转大写
print(s.lower())           # 'hello world' 转小写
print(s.capitalize())      # 'Hello world' 首字母大写
print(s.title())           # 'Hello World' 每个单词首字母大写
print(s.strip())           # 去除两端空白
print(s.replace('l', 'L')) # 'heLLo worLd' 替换
print(s.split())           # ['hello', 'world'] 分割
print(s.startswith('he'))  # True 是否以...开头
print(s.endswith('ld'))    # True 是否以...结尾
print(s.find('o'))         # 4 查找子串位置
print(s.count('l'))        # 3 统计出现次数
print(s.isdigit())         # False 是否全为数字
print(s.isalpha())         # False 是否全为字母
print('o' in s)            # True 成员检测

# 字符串格式化（重要！）
name = "张三"
age = 20

# 方法1：%格式化
print("姓名：%s，年龄：%d" % (name, age))

# 方法2：format()
print("姓名：{}，年龄：{}".format(name, age))
print("姓名：{0}，年龄：{1}".format(name, age))
print("姓名：{n}，年龄：{a}".format(n=name, a=age))

# 方法3：f-string（推荐，Python 3.6+）
print(f"姓名：{name}，年龄：{age}")
print(f"明年{age+1}岁")

# 转义字符
print("第一行\n第二行")    # \n 换行
print("姓名\t年龄")        # \t 制表符
print("他说：\"你好\"")     # \" 双引号
print("C:\\Users")         # \\ 反斜杠
print(r"C:\Users")         # r前缀：原始字符串
```

### 3. 列表 list（重要！）

```python
# 创建列表
list1 = [1, 2, 3, 4, 5]
list2 = ['a', 'b', 'c']
list3 = [1, 'two', 3.0, True]  # 可以混合类型
list4 = []                      # 空列表
list5 = list(range(5))         # [0, 1, 2, 3, 4]

# 访问元素
lst = [10, 20, 30, 40, 50]
print(lst[0])       # 10
print(lst[-1])      # 50
print(lst[1:4])     # [20, 30, 40]

# 修改元素
lst[0] = 100
print(lst)          # [100, 20, 30, 40, 50]

# 列表方法（高频考点！）
lst = [1, 2, 3]

# 添加元素
lst.append(4)           # [1, 2, 3, 4] 末尾添加
lst.insert(0, 0)        # [0, 1, 2, 3, 4] 指定位置插入
lst.extend([5, 6])      # [0, 1, 2, 3, 4, 5, 6] 扩展列表

# 删除元素
lst.remove(0)           # 删除第一个0
del lst[0]              # 删除索引0的元素
popped = lst.pop()      # 弹出并返回最后一个元素
popped = lst.pop(0)     # 弹出并返回索引0的元素
lst.clear()             # 清空列表

# 其他方法
lst = [3, 1, 4, 1, 5, 9, 2, 6]
print(lst.count(1))     # 2 统计1出现次数
print(lst.index(4))     # 2 查找4的索引
lst.sort()              # [1, 1, 2, 3, 4, 5, 6, 9] 排序
lst.reverse()           # [9, 6, 5, 4, 3, 2, 1, 1] 反转
copy_lst = lst.copy()   # 复制列表

# 列表运算
a = [1, 2, 3]
b = [4, 5, 6]
print(a + b)            # [1, 2, 3, 4, 5, 6] 拼接
print(a * 3)            # [1, 2, 3, 1, 2, 3, 1, 2, 3] 重复
print(2 in a)           # True 成员检测
print(len(a))           # 3 长度
print(max(a))           # 3 最大值
print(min(a))           # 1 最小值
print(sum(a))           # 6 求和

# 列表推导式（重要！）
squares = [x**2 for x in range(10)]
# [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

evens = [x for x in range(20) if x % 2 == 0]
# [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

matrix = [[i*j for j in range(3)] for i in range(3)]
# [[0, 0, 0], [0, 1, 2], [0, 2, 4]]
```

### 4. 元组 tuple

```python
# 创建元组
tuple1 = (1, 2, 3, 4, 5)
tuple2 = ('a', 'b', 'c')
tuple3 = (1,)              # 单元素元组，注意逗号！
tuple4 = ()                # 空元组
tuple5 = 1, 2, 3           # 可以省略括号

# 访问元素（和列表相同）
t = (10, 20, 30, 40, 50)
print(t[0])                # 10
print(t[-1])               # 50
print(t[1:4])              # (20, 30, 40)

# 元组是不可变的！
# t[0] = 100  # 错误！TypeError

# 元组方法
t = (1, 2, 3, 2, 1)
print(t.count(1))          # 2 统计
print(t.index(3))          # 2 查找

# 元组解包（重要！）
a, b, c = (1, 2, 3)
print(a, b, c)             # 1 2 3

x, *y, z = (1, 2, 3, 4, 5)
print(x, y, z)             # 1 [2, 3, 4] 5

# 交换变量
a, b = 1, 2
a, b = b, a
print(a, b)                # 2 1
```

### 5. 字典 dict（重要！）

```python
# 创建字典
dict1 = {'name': '张三', 'age': 20, 'gender': '男'}
dict2 = dict(name='李四', age=25)
dict3 = {}                  # 空字典
dict4 = dict.fromkeys(['a', 'b', 'c'], 0)
# {'a': 0, 'b': 0, 'c': 0}

# 访问元素
d = {'name': '张三', 'age': 20}
print(d['name'])            # '张三'
print(d.get('name'))        # '张三'
print(d.get('salary', 0))   # 0（不存在返回默认值）

# 修改/添加元素
d['age'] = 21               # 修改
d['city'] = '北京'          # 添加

# 删除元素
del d['city']               # 删除键值对
popped = d.pop('age')       # 弹出并返回值
d.clear()                   # 清空字典

# 字典方法（高频考点！）
d = {'a': 1, 'b': 2, 'c': 3}

print(d.keys())             # dict_keys(['a', 'b', 'c'])
print(d.values())           # dict_values([1, 2, 3])
print(d.items())            # dict_items([('a', 1), ('b', 2), ('c', 3)])

d.update({'d': 4, 'e': 5})  # 更新字典
print('a' in d)             # True 检查键是否存在
print(len(d))               # 5 字典长度

# 遍历字典
for key in d:
    print(key, d[key])

for key, value in d.items():
    print(key, value)

# 字典推导式
squares = {x: x**2 for x in range(5)}
# {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}
```

### 6. 集合 set

```python
# 创建集合
set1 = {1, 2, 3, 4, 5}
set2 = set([1, 2, 2, 3, 3])  # {1, 2, 3} 自动去重
set3 = set()                  # 空集合（注意：{}是空字典）

# 集合操作
s = {1, 2, 3}
s.add(4)                # {1, 2, 3, 4} 添加元素
s.remove(1)             # {2, 3, 4} 删除元素（不存在会报错）
s.discard(10)           # 删除元素（不存在不报错）
s.clear()               # 清空集合

# 集合运算（重要！）
a = {1, 2, 3, 4}
b = {3, 4, 5, 6}

print(a | b)            # {1, 2, 3, 4, 5, 6} 并集
print(a & b)            # {3, 4} 交集
print(a - b)            # {1, 2} 差集
print(a ^ b)            # {1, 2, 5, 6} 对称差集

print(a.union(b))           # 并集
print(a.intersection(b))    # 交集
print(a.difference(b))      # 差集

# 集合关系
print({1, 2}.issubset({1, 2, 3}))      # True 是否为子集
print({1, 2, 3}.issuperset({1, 2}))    # True 是否为父集
print({1, 2}.isdisjoint({3, 4}))       # True 是否无交集

# 集合推导式
squares = {x**2 for x in range(10)}
```

## 三、运算符

### 1. 算术运算符

```python
a, b = 10, 3

print(a + b)    # 13 加
print(a - b)    # 7  减
print(a * b)    # 30 乘
print(a / b)    # 3.333... 除（浮点数）
print(a // b)   # 3  整除
print(a % b)    # 1  取模（余数）
print(a ** b)   # 1000 幂运算

# 复合赋值
x = 10
x += 5          # x = x + 5
x -= 3          # x = x - 3
x *= 2          # x = x * 2
x /= 4          # x = x / 4
```

### 2. 比较运算符

```python
a, b = 5, 3

print(a == b)   # False 等于
print(a != b)   # True  不等于
print(a > b)    # True  大于
print(a < b)    # False 小于
print(a >= b)   # True  大于等于
print(a <= b)   # False 小于等于
```

### 3. 逻辑运算符

```python
# and, or, not（重要！）
print(True and False)   # False
print(True or False)    # True
print(not True)         # False

# 短路求值
x = 5
print(x > 3 and x < 10) # True
print(x < 3 or x > 0)   # True

# 逻辑运算符返回值（重要！考试常考）
print(3 and 5)          # 5  （返回第二个值）
print(0 and 5)          # 0  （返回第一个False值）
print(3 or 5)           # 3  （返回第一个True值）
print(0 or 5)           # 5  （返回第二个值）
```

### 4. 成员运算符

```python
# in, not in
print(3 in [1, 2, 3])       # True
print('a' in 'abc')         # True
print('x' not in 'abc')     # True
print('name' in {'name': '张三'})  # True（检查键）
```

### 5. 身份运算符

```python
# is, is not（重要！）
a = [1, 2, 3]
b = [1, 2, 3]
c = a

print(a == b)       # True  值相等
print(a is b)       # False 不是同一个对象
print(a is c)       # True  是同一个对象
print(id(a), id(c)) # 相同的内存地址

# None的判断
x = None
print(x is None)    # True（推荐）
print(x == None)    # True（不推荐）
```

### 6. 运算符优先级（从高到低）

```python
"""
1. **                    幂运算
2. *, /, //, %           乘、除、整除、取模
3. +, -                  加、减
4. <, <=, >, >=          比较运算符
5. ==, !=                等于、不等于
6. is, is not            身份运算符
7. in, not in            成员运算符
8. not                   逻辑非
9. and                   逻辑与
10. or                   逻辑或
"""

# 使用括号改变优先级
print(2 + 3 * 4)        # 14
print((2 + 3) * 4)      # 20
```

## 四、流程控制

### 1. if语句（重要！）

```python
# 基本if
age = 18
if age >= 18:
    print("成年人")

# if-else
age = 15
if age >= 18:
    print("成年人")
else:
    print("未成年人")

# if-elif-else
score = 85
if score >= 90:
    print("优秀")
elif score >= 80:
    print("良好")
elif score >= 60:
    print("及格")
else:
    print("不及格")

# 嵌套if
x = 10
if x > 0:
    if x > 5:
        print("大于5")
    else:
        print("0到5之间")

# 三元表达式（重要！）
age = 20
status = "成年" if age >= 18 else "未成年"
print(status)  # "成年"

# 多条件判断
x = 5
if 0 < x < 10:  # 等价于 x > 0 and x < 10
    print("x在0到10之间")
```

### 2. for循环（重要！）

```python
# 遍历序列
for i in [1, 2, 3, 4, 5]:
    print(i)

# range()函数（高频考点！）
for i in range(5):          # 0, 1, 2, 3, 4
    print(i)

for i in range(1, 6):       # 1, 2, 3, 4, 5
    print(i)

for i in range(0, 10, 2):   # 0, 2, 4, 6, 8
    print(i)

for i in range(10, 0, -1):  # 10, 9, 8, ..., 1
    print(i)

# 遍历字符串
for char in "Python":
    print(char)

# 遍历字典
d = {'a': 1, 'b': 2, 'c': 3}

for key in d:
    print(key, d[key])

for key, value in d.items():
    print(key, value)

# enumerate()（重要！）
fruits = ['apple', 'banana', 'orange']
for index, fruit in enumerate(fruits):
    print(index, fruit)
# 0 apple
# 1 banana
# 2 orange

for index, fruit in enumerate(fruits, start=1):
    print(index, fruit)  # 从1开始编号

# zip()（重要！）
names = ['张三', '李四', '王五']
ages = [20, 25, 30]
for name, age in zip(names, ages):
    print(name, age)

# break和continue
for i in range(10):
    if i == 5:
        break       # 跳出循环
    print(i)        # 0, 1, 2, 3, 4

for i in range(10):
    if i % 2 == 0:
        continue    # 跳过本次循环
    print(i)        # 1, 3, 5, 7, 9

# for-else（重要！考试可能考）
for i in range(5):
    if i == 10:
        break
else:
    print("循环正常结束")  # 没有break时执行
```

### 3. while循环

```python
# 基本while
i = 0
while i < 5:
    print(i)
    i += 1

# while-else
i = 0
while i < 5:
    print(i)
    i += 1
else:
    print("循环结束")

# 无限循环
# while True:
#     pass

# break和continue
i = 0
while i < 10:
    i += 1
    if i == 5:
        continue
    if i == 8:
        break
    print(i)
```

### 4. pass语句

```python
# pass是空语句，占位符
if True:
    pass  # TODO: 以后实现

for i in range(5):
    pass

def function():
    pass

class MyClass:
    pass
```

## 五、函数（重要！）

### 1. 定义和调用函数

```python
# 基本函数
def greet():
    print("Hello!")

greet()  # 调用

# 带参数的函数
def greet(name):
    print(f"Hello, {name}!")

greet("张三")

# 带返回值的函数
def add(a, b):
    return a + b

result = add(3, 5)
print(result)  # 8

# 多个返回值
def get_info():
    return "张三", 20, "男"

name, age, gender = get_info()
```

### 2. 参数类型（高频考点！）

```python
# 1. 位置参数
def power(x, n):
    return x ** n

print(power(2, 3))  # 8

# 2. 默认参数
def greet(name, msg="你好"):
    print(f"{msg}, {name}!")

greet("张三")           # 你好, 张三!
greet("李四", "早上好")  # 早上好, 李四!

# 3. 关键字参数
def info(name, age, city):
    print(f"{name}, {age}岁, 来自{city}")

info(name="张三", age=20, city="北京")
info(age=25, city="上海", name="李四")  # 顺序可变

# 4. 可变参数 *args（重要！）
def sum_all(*numbers):
    total = 0
    for num in numbers:
        total += num
    return total

print(sum_all(1, 2, 3))        # 6
print(sum_all(1, 2, 3, 4, 5))  # 15

# 5. 关键字可变参数 **kwargs（重要！）
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="张三", age=20, city="北京")

# 6. 参数组合（考试重点！）
def func(a, b, c=0, *args, **kwargs):
    print(f"a={a}, b={b}, c={c}")
    print(f"args={args}")
    print(f"kwargs={kwargs}")

func(1, 2, 3, 4, 5, x=10, y=20)
# a=1, b=2, c=3
# args=(4, 5)
# kwargs={'x': 10, 'y': 20}
```

### 3. 变量作用域（重要！）

```python
# 全局变量
global_var = 100

def func():
    local_var = 50      # 局部变量
    print(global_var)   # 可以访问全局变量
    print(local_var)

func()
# print(local_var)  # 错误！局部变量在函数外不可见

# global关键字
count = 0

def increment():
    global count        # 声明使用全局变量
    count += 1

increment()
print(count)  # 1

# nonlocal关键字（嵌套函数）
def outer():
    x = 10
    def inner():
        nonlocal x      # 使用外层函数的变量
        x += 1
        print(x)
    inner()
    print(x)

outer()
# 11
# 11
```

### 4. Lambda函数（重要！）

```python
# 基本lambda
square = lambda x: x ** 2
print(square(5))  # 25

# 多个参数
add = lambda x, y: x + y
print(add(3, 5))  # 8

# 与内置函数配合使用
numbers = [1, 2, 3, 4, 5]

# map()
squared = list(map(lambda x: x**2, numbers))
print(squared)  # [1, 4, 9, 16, 25]

# filter()
evens = list(filter(lambda x: x % 2 == 0, numbers))
print(evens)  # [2, 4]

# sorted()
pairs = [(1, 'one'), (3, 'three'), (2, 'two')]
sorted_pairs = sorted(pairs, key=lambda x: x[0])
print(sorted_pairs)  # [(1, 'one'), (2, 'two'), (3, 'three')]
```

### 5. 常用内置函数（高频考点！）

```python
# 数学函数
print(abs(-5))          # 5 绝对值
print(pow(2, 3))        # 8 幂运算
print(round(3.7))       # 4 四舍五入
print(max(1, 2, 3))     # 3 最大值
print(min(1, 2, 3))     # 1 最小值
print(sum([1, 2, 3]))   # 6 求和

# 类型转换
print(int("10"))        # 10
print(float("3.14"))    # 3.14
print(str(100))         # "100"
print(list("abc"))      # ['a', 'b', 'c']
print(tuple([1, 2]))    # (1, 2)

# 序列函数
print(len([1, 2, 3]))   # 3 长度
print(range(5))         # range(0, 5)
print(sorted([3, 1, 2]))# [1, 2, 3] 排序
print(reversed([1, 2, 3]))  # 反转迭代器

# 其他
print(type(123))        # <class 'int'> 类型
print(isinstance(123, int))  # True 类型检查
print(id([1, 2, 3]))    # 内存地址
print(dir(str))         # 对象的所有属性和方法
print(help(print))      # 帮助文档

# 输入输出
name = input("请输入姓名：")  # 接收用户输入（返回字符串）
print("你好,", name)

# enumerate, zip, map, filter（前面已讲）
```

## 六、文件操作（重要！）

### 1. 文件读写

```python
# 写文件
f = open('test.txt', 'w', encoding='utf-8')
f.write('Hello, World!\n')
f.write('Python编程\n')
f.close()

# 读文件
f = open('test.txt', 'r', encoding='utf-8')
content = f.read()      # 读取全部内容
print(content)
f.close()

# 使用with语句（推荐！自动关闭文件）
with open('test.txt', 'w', encoding='utf-8') as f:
    f.write('Hello!\n')

with open('test.txt', 'r', encoding='utf-8') as f:
    content = f.read()
    print(content)

# 文件模式（重要！）
"""
'r'  - 只读（默认）
'w'  - 写入（覆盖）
'a'  
```
##