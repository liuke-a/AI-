# Python 基础语法详解（考试版）

### 字符串 str

```python
# 字符串索引（重要！）
s = "Python"
print(s[0])      # 'P' 第一个字符
print(s[-1])     # 'n' 最后一个字符
print(s[1:4])    # 'yth' 切片[start:end]
print(s[:3])     # 'Pyt' 从开始到索引3
print(s[3:])     # 'hon' 从索引3到结束
print(s[::2])    # 'Pto' 步长为2
print(s[::-1])   # 'nohtyP' 反转字符串

# 字符串方法（高频考点！）
s = "hello world"
print(s.upper())           # 'HELLO WORLD' 转大写
print(s.lower())           # 'hello world' 转小写
print(s.capitalize())      # 'Hello world' 首字母大写
print(s.title())           # 'Hello World' 每个单词首字母大写
print(s.strip())           # 去除两端空白
print(s.replace('l', 'L')) # 'heLLo worLd' 替换
print(s.split())           # ['hello', 'world'] 分割
print(s.startswith('he'))  # True 是否以...开头
print(s.endswith('ld'))    # True 是否以...结尾
print(s.find('o'))         # 4 查找子串位置
print(s.count('l'))        # 3 统计出现次数
print(s.isdigit())         # False 是否全为数字
print(s.isalpha())         # False 是否全为字母
print('o' in s)            # True 成员检测
### 3. 列表 list（重要！）

```python
# 创建列表
list1 = [1, 2, 3, 4, 5]
list2 = ['a', 'b', 'c']
list3 = [1, 'two', 3.0, True]  # 可以混合类型
list4 = []                      # 空列表
list5 = list(range(5))         # [0, 1, 2, 3, 4]

# 访问元素
lst = [10, 20, 30, 40, 50]
print(lst[0])       # 10
print(lst[-1])      # 50
print(lst[1:4])     # [20, 30, 40]

# 修改元素
lst[0] = 100
print(lst)          # [100, 20, 30, 40, 50]

# 列表方法（高频考点！）
lst = [1, 2, 3]

# 添加元素
lst.append(4)           # [1, 2, 3, 4] 末尾添加
lst.insert(0, 0)        # [0, 1, 2, 3, 4] 指定位置插入
lst.extend([5, 6])      # [0, 1, 2, 3, 4, 5, 6] 扩展列表

# 删除元素
lst.remove(0)           # 删除第一个0
del lst[0]              # 删除索引0的元素
popped = lst.pop()      # 弹出并返回最后一个元素
popped = lst.pop(0)     # 弹出并返回索引0的元素
lst.clear()             # 清空列表

# 其他方法
lst = [3, 1, 4, 1, 5, 9, 2, 6]
print(lst.count(1))     # 2 统计1出现次数
print(lst.index(4))     # 2 查找4的索引
lst.sort()              # [1, 1, 2, 3, 4, 5, 6, 9] 排序
lst.reverse()           # [9, 6, 5, 4, 3, 2, 1, 1] 反转
copy_lst = lst.copy()   # 复制列表

# 列表运算
a = [1, 2, 3]
b = [4, 5, 6]
print(a + b)            # [1, 2, 3, 4, 5, 6] 拼接
print(a * 3)            # [1, 2, 3, 1, 2, 3, 1, 2, 3] 重复
print(2 in a)           # True 成员检测
print(len(a))           # 3 长度
print(max(a))           # 3 最大值
print(min(a))           # 1 最小值
print(sum(a))           # 6 求和

matrix = [[i*j for j in range(3)] for i in range(3)]
# [[0, 0, 0], [0, 1, 2], [0, 2, 4]]
```

### 4. 元组 tuple

```python
# 创建元组
tuple1 = (1, 2, 3, 4, 5)
tuple2 = ('a', 'b', 'c')
tuple3 = (1,)              # 单元素元组，注意逗号！
tuple4 = ()                # 空元组
tuple5 = 1, 2, 3           # 可以省略括号

# 访问元素（和列表相同）
t = (10, 20, 30, 40, 50)
print(t[0])                # 10
print(t[-1])               # 50
print(t[1:4])              # (20, 30, 40)

# 元组是不可变的！
# t[0] = 100  # 错误！TypeError

# 元组方法
t = (1, 2, 3, 2, 1)
print(t.count(1))          # 2 统计
print(t.index(3))          # 2 查找```

### 5. 字典 dict（重要！）

```python
# 创建字典
dict1 = {'name': '张三', 'age': 20, 'gender': '男'}
dict2 = dict(name='李四', age=25)
dict3 = {}                  # 空字典
dict4 = dict.fromkeys(['a', 'b', 'c'], 0)
# {'a': 0, 'b': 0, 'c': 0}

# 访问元素
d = {'name': '张三', 'age': 20}
print(d['name'])            # '张三'
print(d.get('name'))        # '张三'
print(d.get('salary', 0))   # 0（不存在返回默认值）

# 修改/添加元素
d['age'] = 21               # 修改
d['city'] = '北京'          # 添加

# 删除元素
del d['city']               # 删除键值对
popped = d.pop('age')       # 弹出并返回值
d.clear()                   # 清空字典

# 字典方法（高频考点！）
d = {'a': 1, 'b': 2, 'c': 3}

print(d.keys())             # dict_keys(['a', 'b', 'c'])
print(d.values())           # dict_values([1, 2, 3])
print(d.items())            # dict_items([('a', 1), ('b', 2), ('c', 3)])

d.update({'d': 4, 'e': 5})  # 更新字典
print('a' in d)             # True 检查键是否存在
print(len(d))               # 5 字典长度

# 遍历字典
for key in d:
    print(key, d[key])

for key, value in d.items():
    print(key, value)
```

### 6. 集合 set

```python
# 创建集合
set1 = {1, 2, 3, 4, 5}
set2 = set([1, 2, 2, 3, 3])  # {1, 2, 3} 自动去重
set3 = set()                  # 空集合（注意：{}是空字典）

# 集合操作
s = {1, 2, 3}
s.add(4)                # {1, 2, 3, 4} 添加元素
s.remove(1)             # {2, 3, 4} 删除元素（不存在会报错）
s.discard(10)           # 删除元素（不存在不报错）
s.clear()               # 清空集合

# 集合运算（重要！）
a = {1, 2, 3, 4}
b = {3, 4, 5, 6}

print(a | b)            # {1, 2, 3, 4, 5, 6} 并集
print(a & b)            # {3, 4} 交集
print(a - b)            # {1, 2} 差集
print(a ^ b)            # {1, 2, 5, 6} 对称差集

print(a.union(b))           # 并集
print(a.intersection(b))    # 交集
print(a.difference(b))      # 差集
```



### 3. 变量作用域（重要！）

```python
# 全局变量
global_var = 100

def func():
    local_var = 50      # 局部变量
    print(global_var)   # 可以访问全局变量
    print(local_var)

func()
# print(local_var)  # 错误！局部变量在函数外不可见

# global关键字
count = 0

def increment():
    global count        # 声明使用全局变量
    count += 1

increment()
print(count)  # 1

# nonlocal关键字（嵌套函数）
def outer():
    x = 10
    def inner():
        nonlocal x      # 使用外层函数的变量
        x += 1
        print(x)
    inner()
    print(x)

outer()
# 11
# 11
```

### 4. Lambda函数（重要！）

```python
# 基本lambda
square = lambda x: x ** 2
print(square(5))  # 25

# 多个参数
add = lambda x, y: x + y
print(add(3, 5))  # 8

# 与内置函数配合使用
numbers = [1, 2, 3, 4, 5]

# map()
squared = list(map(lambda x: x**2, numbers))
print(squared)  # [1, 4, 9, 16, 25]

# filter()
evens = list(filter(lambda x: x % 2 == 0, numbers))
print(evens)  # [2, 4]

# sorted()
pairs = [(1, 'one'), (3, 'three'), (2, 'two')]
sorted_pairs = sorted(pairs, key=lambda x: x[0])
print(sorted_pairs)  # [(1, 'one'), (2, 'two'), (3, 'three')]
```

### 5. 常用内置函数（高频考点！）

```python
# 数学函数
print(abs(-5))          # 5 绝对值
print(pow(2, 3))        # 8 幂运算
print(round(3.7))       # 4 四舍五入
print(max(1, 2, 3))     # 3 最大值
print(min(1, 2, 3))     # 1 最小值
print(sum([1, 2, 3]))   # 6 求和

# 类型转换
print(int("10"))        # 10
print(float("3.14"))    # 3.14
print(str(100))         # "100"
print(list("abc"))      # ['a', 'b', 'c']
print(tuple([1, 2]))    # (1, 2)

# 序列函数
print(len([1, 2, 3]))   # 3 长度
print(range(5))         # range(0, 5)
print(sorted([3, 1, 2]))# [1, 2, 3] 排序
print(reversed([1, 2, 3]))  # 反转迭代器

# 其他
print(type(123))        # <class 'int'> 类型
print(isinstance(123, int))  # True 类型检查
print(id([1, 2, 3]))    # 内存地址
print(dir(str))         # 对象的所有属性和方法
print(help(print))      # 帮助文档

# 输入输出
name = input("请输入姓名：")  # 接收用户输入（返回字符串）
print("你好,", name)
```

## 六、文件操作（重要！）

### 1. 文件读写

```python
# 写文件
f = open('test.txt', 'w', encoding='utf-8')
f.write('Hello, World!\n')
f.write('Python编程\n')
f.close()

# 读文件
f = open('test.txt', 'r', encoding='utf-8')
content = f.read()      # 读取全部内容
print(content)
f.close()

# 使用with语句（推荐！自动关闭文件）
with open('test.txt', 'w', encoding='utf-8') as f:
    f.write('Hello!\n')

with open('test.txt', 'r', encoding='utf-8') as f:
    content = f.read()
    print(content)
```
#
